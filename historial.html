<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Historial - Banca Amiga</title>
<link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="top-header">
    <div class="container header-inner">
      <div class="brand"><img src="img/logo.svg" alt="Banca Amiga" class="logo"><span class="bank-name">Banca Amiga</span></div>
      <nav class="main-nav">
        <button class="nav-toggle" aria-label="menu">â˜°</button>
        <ul>
          <li><a href="dashboard.html">Inicio</a></li>
          <li><a href="transferencias.html">Transferencias</a></li>
          <li><a href="historial.html">Historial</a></li>
        </ul>
      </nav>
      <div class="actions"><div class="user-pill"><img src="img/user.svg" class="avatar"><span>Cliente</span></div></div>
    </div>
  </header>

  <main class="container content">
    <h1>Historial de movimientos</h1>
    <div class="card">
      <table>
        <thead><tr><th>Fecha</th><th>Tipo</th><th>Monto</th><th>Saldo</th></tr></thead>
        <tbody id="historyBody"></tbody>
      </table>
    </div>
  </main>

  <footer class="footer"><div class="container"><p>&copy; 2025 Banca Amiga.</p></div></footer>
<script>
  // render history from localStorage
  document.addEventListener('DOMContentLoaded', function(){
    try{
      const raw = localStorage.getItem('banca_state_v1');
      const state = raw ? JSON.parse(raw) : null;
      const tbody = document.getElementById('historyBody');
      if(!state || !tbody) return;
      tbody.innerHTML = state.transactions.slice().reverse().map(tx=>`<tr><td>${tx.date}</td><td>${tx.desc}</td><td>${tx.amount>=0?'+$'+tx.amount.toFixed(2):'-$'+Math.abs(tx.amount).toFixed(2)}</td><td>${tx.balance?('$'+tx.balance.toFixed(2)):'-'}</td></tr>`).join('');
    }catch(e){ console.error(e); }
  });
</script>
<script src="js/app.js"></script>
</body>
</html>
